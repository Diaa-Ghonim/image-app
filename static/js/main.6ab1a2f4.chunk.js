(this["webpackJsonpimage-app"]=this["webpackJsonpimage-app"]||[]).push([[0],{10:function(e,t,a){e.exports={"image-modal-wrapper":"style_image-modal-wrapper__3Bb6o","image-container":"style_image-container__gjA7h",directionButton:"style_directionButton__into9","go-button":"style_go-button__qvRX-","back-button":"style_back-button__2b3eB",image:"style_image__3-zRj","image-details-container":"style_image-details-container__3vRvu"}},12:function(e,t,a){e.exports={"modal-wrapper":"style_modal-wrapper__3Z-7T","modal-container":"style_modal-container__15SpZ","modal-content-wrapper":"style_modal-content-wrapper__-iWeF","madal-content-container":"style_madal-content-container__2tNNG","modal-content":"style_modal-content__G-nPw","close-modal-container":"style_close-modal-container__2nHHs","close-button":"style_close-button__3UjjY"}},17:function(e,t,a){e.exports={spinnerContainer:"style_spinnerContainer__hMdh4",spinner:"style_spinner__3Exn1",load:"style_load__N2ge3",smallSpinner:"style_smallSpinner__1jT9F",bigSpinner:"style_bigSpinner__yhpiv"}},20:function(e,t,a){e.exports={"navbar-container":"navbar_navbar-container__1KGl8","navbar-fixed":"navbar_navbar-fixed__2iG5-","navbar-content":"navbar_navbar-content__lDeCf"}},21:function(e,t,a){e.exports={content:"style_content__19IQM",loadmore:"style_loadmore__ysFRR",loadmoreContainer:"style_loadmoreContainer__33GaM"}},23:function(e,t,a){e.exports={imgContainer:"style_imgContainer__1IqIr",img:"style_img__6h5EA",item1:"style_item1__28DO3",item2:"style_item2__1GRtc",item3:"style_item3__anPy_",item4:"style_item4__2FPR7",item5:"style_item5__2R-YE"}},28:function(e,t,a){e.exports={errorContainer:"style_errorContainer__2ON2A"}},43:function(e,t,a){e.exports={tryAgain:"style_tryAgain__1-7Ys"}},44:function(e,t,a){e.exports={errorMessageParagraph:"style_errorMessageParagraph__3TFFL"}},46:function(e,t,a){e.exports={"image-details-container":"style_image-details-container__2xgnT"}},49:function(e,t,a){e.exports=a(82)},54:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(15),l=a.n(c),i=(a(54),a(13)),s=a(20),m=a.n(s),u=function(){return o.a.createElement("div",{className:m.a["navbar-wrapper"]},o.a.createElement("div",{className:m.a["navbar-container"]},o.a.createElement("div",{className:m.a["navbar-fixed"]},o.a.createElement("div",{className:m.a["navbar-content"]},o.a.createElement("ul",null,o.a.createElement("li",{onClick:function(){return window.scrollTo(0,0)}}," Image "))))))},d=a(17),p=a.n(d),g=function(){return o.a.createElement("div",{className:p.a.spinnerContainer},o.a.createElement("div",{className:p.a.spinner+" "+p.a.bigSpinner}))},_=function(){return o.a.createElement("span",{style:{width:"30px"}},o.a.createElement("span",{className:p.a.smallSpinner}))},b=function(e){var t=e.className,a=e.onClickCallback,n=e.text,r=e.isLoading;return o.a.createElement("button",{className:t,onClick:a,disabled:!!r},n,o.a.createElement(_,null))},v=a(28),E=a.n(v),f=a(43),y=a.n(f),h=function(e){var t=e.tryLoadingAgain,a=Object(i.b)();return o.a.createElement("div",null,o.a.createElement("button",{className:y.a.tryAgain,onClick:function(){return a(t())}},"Try Again"))},O=a(44),C=a.n(O),j=function(e){var t=e.errorMsg;return o.a.createElement("div",null,o.a.createElement("p",{className:C.a.errorMessageParagraph},t))},N=function(e){var t=e.error,a=e.tryLoadingAgain;return console.log(t,a,"=> try again and error"),t.status&&404===t.status?o.a.createElement("div",{className:E.a.errorContainer},o.a.createElement(j,{errorMsg:t.msg})):o.a.createElement("div",{className:E.a.errorContainer},o.a.createElement(j,{errorMsg:t.msg}),o.a.createElement(h,{tryLoadingAgain:a}))},x=a(6),w=a(45),S=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var r={},o={type:e};return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t||0===t.length)return o;var c,l=Object(w.a)(a.entries());try{for(l.s();!(c=l.n()).done;){var i=Object(x.a)(c.value,2),s=i[0],m=i[1];r[m]=t[s]}}catch(u){l.e(u)}finally{l.f()}return o.payload=r,o}},k=(n=(n="GET_IMAGES").toUpperCase(),{LOADING:"".concat(n,"_LOADING"),SUCCESS:"".concat(n,"_SUCCESS"),FAILURE:"".concat(n,"_FAILURE"),ACTION:n}),M=S(k.ACTION),I=S(k.LOADING),A=S(k.SUCCESS,"images"),L=S(k.FAILURE,"error"),R=(a(61),a(21)),D=a.n(R),G=a(46),U=a.n(G),F=function(e){var t=e.image,a=e.coordinateY,n=Object(r.useState)(0),c=Object(x.a)(n,2),l=c[0],i=c[1],s=Object(r.useCallback)((function(e){null!==e&&i(e.getBoundingClientRect().height)}),[]);return o.a.createElement("div",{ref:s,className:U.a["image-details-container"],style:{top:function(){var e=a;return a>l&&(e-=l+10),0===a&&(e=10),{top:e}}().top,left:10,right:10}},o.a.createElement("p",null," ",o.a.createElement("span",null,"description:")," ",t.alt_description),o.a.createElement("p",null," ",o.a.createElement("span",null,"created_at:")," ",t.created_at))};var T=a(12),B=a.n(T);function P(){var e=Object(r.useContext)(Y),t=e.isModal,a=e.toggleModal,n=e.modalContent;return Object(r.useMemo)((function(){t?(document.body.style.marginRight="17px",document.body.style.overflowY="hidden"):(document.body.style.marginRight="0px",document.body.style.overflowY="scroll")}),[t]),t?l.a.createPortal(o.a.createElement("div",{className:B.a["modal-wrapper"]},o.a.createElement("div",{className:B.a["modal-container"],onClick:a},o.a.createElement("div",{className:B.a["modal-content-wrapper"]},o.a.createElement("div",{className:B.a["close-modal-container"]},o.a.createElement("button",{className:B.a["close-button"],onClick:a},"close")),o.a.createElement("div",{className:B.a["madal-content-container"],onClick:function(e){e.stopPropagation()}},o.a.createElement("div",{className:B.a["modal-content"]},n))))),document.querySelector("#root")):""}var Y=o.a.createContext({}),q=Y.Provider;function z(e){var t=e.children,a=function(){var e=Object(r.useState)(!1),t=Object(x.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)(""),c=Object(x.a)(o,2),l=c[0],i=c[1];return{isModal:a,toggleModal:function(){n(!a)},modalContent:l,addModalContent:function(e){e&&i(e)}}}(),n={isModal:a.isModal,toggleModal:a.toggleModal,modalContent:a.modalContent,addModalContent:a.addModalContent};return o.a.createElement(q,{value:n},t,o.a.createElement(P,null))}var J,Q=a(10),W=a.n(Q),Z=function(e){e.image;var t=e.currentIndex,a=e.allImages,n=Object(r.useState)(t),c=Object(x.a)(n,2),l=c[0],i=c[1];return o.a.createElement("div",{className:W.a["image-modal-wrapper"]},o.a.createElement("div",{className:W.a["image-container"],style:{backgroundImage:"url(".concat(a[l].urls.regular,")")}},o.a.createElement("button",{onClick:function(){return i((l+1)%a.length)},className:"".concat(W.a.directionButton," ").concat(W.a["go-button"])},"Go"),o.a.createElement("img",{className:W.a.image,src:a[l].urls.regular}),o.a.createElement("button",{onClick:function(){return i((l-1+a.length)%a.length)},className:"".concat(W.a.directionButton," ").concat(W.a["back-button"])},"Back")),o.a.createElement("div",{className:W.a["image-details-container"]},o.a.createElement("p",null,"Details"),o.a.createElement("p",null,o.a.createElement("span",null,"description:")," ",a[l].alt_description),o.a.createElement("p",null,o.a.createElement("span",null,"created_at:")," ",a[l].created_at),o.a.createElement("p",null,o.a.createElement("span",null,"height:")," ",a[l].height),o.a.createElement("p",null,o.a.createElement("span",null,"width:")," ",a[l].width),o.a.createElement("p",null,o.a.createElement("span",null,"likes:")," ",a[l].likes),o.a.createElement("p",null,o.a.createElement("span",null,"created by:")," ",a[l].user.username)))},H=a(23),K=a.n(H),V=function(e){var t=e.image,a=e.currentIndex,n=e.allImages,c=Object(r.useContext)(Y),l=c.toggleModal,i=c.addModalContent,s=Object(r.useState)(!1),m=Object(x.a)(s,2),u=m[0],d=m[1],p=Object(r.useState)(0),g=Object(x.a)(p,2),_=g[0],b=g[1],v=Object(r.useState)(0),E=Object(x.a)(v,2),f=E[0],y=E[1],h="item"+Math.ceil(t.height/t.width);return o.a.createElement("div",{key:t.id,className:"".concat(K.a.imgContainer," ").concat(K.a[h]),onMouseEnter:function(e){return function(e,t){var a=t.target.getBoundingClientRect(),n=t.clientY-a.top;b(n),y(e),d(!0)}(t.id,e)},onMouseLeave:function(){return d(!1)},style:{backgroundImage:"url(".concat(t.urls.small,")")},onClick:function(){return function(e){l(),i(o.a.createElement(Z,{image:e,currentIndex:a,allImages:n}))}(t)}},o.a.createElement("img",{src:t.urls.small,className:K.a.img}),u&&f===t.id?o.a.createElement(F,{image:t,coordinateY:_}):"")},X=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.images})),a=t.images,n=t.isLoading,c=t.error;return Object(r.useEffect)((function(){e(M())}),[]),c?o.a.createElement(N,{error:c,tryLoadingAgain:function(){return e(M())}}):o.a.createElement("div",{className:D.a.container},o.a.createElement("div",{className:D.a.content},a.length>0&&a.map((function(e,t){return o.a.createElement(V,{image:e,key:e.id,currentIndex:t,allImages:a})}))),n?o.a.createElement(g,null):"",a.length>0&&o.a.createElement("div",{className:D.a.loadmoreContainer},o.a.createElement(b,{onClickCallback:function(){return e(M())},className:D.a.loadmore,text:"loadmore",isLoading:n})))},$=a(7),ee=a(48),te=a(47),ae=a(18),ne=a(30),re=a(14);function oe(e){return console.log(e.toJSON()),console.log(e.response),e.response?{msg:e.response.data.errors[0],statusCode:e.response.statusCode}:{msg:"Something went wrong !!"}}var ce=function(e,t){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments.length>1?arguments[1]:void 0,r=n.type,o=n.payload;return t[r]?t[r](a,o):a}}({images:[],page:1,isLoading:!1,error:null},(J={},Object(ae.a)(J,k.LOADING,(function(e){return Object(re.a)(Object(re.a)({},e),{},{isLoading:!0})})),Object(ae.a)(J,k.SUCCESS,(function(e,t){var a=t.images;return Object(re.a)(Object(re.a)({},e),{},{isLoading:!1,error:null,images:[].concat(Object(ne.a)(e.images),Object(ne.a)(a)),page:e.page+1})})),Object(ae.a)(J,k.FAILURE,(function(e,t){var a=t.error;return Object(re.a)(Object(re.a)({},e),{},{isLoading:!1,error:oe(a)})})),J));console.log(ce),console.log("second",ce);var le=Object($.combineReducers)({images:ce}),ie=a(11),se=a.n(ie),me=a(9);var ue=a(29),de=a.n(ue),pe="gQDbsMCjrO0RIMOO0sUKFZezWYckLmv4MwVuGeA9QvY";function ge(e,t){return function(a){var n=a.endpoint,r=void 0===n?"":n,o=a.queryString,c=void 0===o?"":o,l=a.userData;return e({method:t,endpoint:r,queryString:c,userData:void 0===l?{}:l})}}function _e(e){var t=e.method,a=e.endpoint,n=void 0===a?"":a,r=e.queryString,o=void 0===r?"":r,c=e.userData,l=void 0===c?{}:c;de.a.defaults.headers.Authorization="Client-ID ".concat(pe);var i=n+o;return de()({baseURL:"https://api.unsplash.com/",method:t,url:i,data:l})}var be={get:ge(_e,"get"),post:ge(_e,"post"),put:ge(_e,"put"),delete:ge("delete")},ve=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="?";for(var a in e)t+="".concat(a,"=").concat(e[a],"&");return t}({page:e,per_page:10});return be.get({endpoint:"/photos/",queryString:t}).then((function(e){return e.data}))},Ee=function(e){return e.images.page},fe=se.a.mark(he),ye=se.a.mark(Oe);function he(){var e,t;return se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(me.c)(I());case 3:return a.next=5,Object(me.d)(Ee);case 5:return e=a.sent,a.next=8,Object(me.b)(ve,e);case 8:return t=a.sent,a.next=11,Object(me.c)(A(t));case 11:a.next=18;break;case 13:return a.prev=13,a.t0=a.catch(0),console.log(a.t0,"from saga"),a.next=18,Object(me.c)(L(a.t0));case 18:case"end":return a.stop()}}),fe,null,[[0,13]])}function Oe(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.e)(k.ACTION,he);case 2:case"end":return e.stop()}}),ye)}var Ce=se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.a)([Oe()]);case 2:case"end":return e.stop()}}),e)})),je=function(){var e=Object(ee.a)(),t=Object(te.composeWithDevTools)(Object($.applyMiddleware)(e)),a=Object($.createStore)(le,void 0,t);e.run(Ce);a.subscribe((function(){console.log("this subscribe call back will print state before excute dispatch",a.getState())}));return a}();function Ne(){return o.a.createElement(i.a,{store:je},o.a.createElement(z,null,o.a.createElement("div",{className:"app-wrapper"},o.a.createElement("div",{className:"app-container"},o.a.createElement("div",{className:"main-container"},o.a.createElement("div",{className:"main-header"},o.a.createElement(u,null)),o.a.createElement("div",{className:"main-content-wrapper"},o.a.createElement("div",{className:"main-content-container"},o.a.createElement(X,null))))))),o.a.createElement("div",{className:"form-container"},o.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},o.a.createElement("input",{type:"text",name:"username",placeholder:"Username"}),o.a.createElement("input",{type:"password",name:"password",placeholder:"Password"}),o.a.createElement("input",{type:"email",name:"email",placeholder:"Email"}),o.a.createElement("input",{type:"submit",name:"submit",value:"submit"}))))}l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Ne,null)),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.6ab1a2f4.chunk.js.map
(this["webpackJsonpimage-app"]=this["webpackJsonpimage-app"]||[]).push([[0],{10:function(e,t,a){e.exports={"image-modal-wrapper":"style_image-modal-wrapper__2VPYu","image-container":"style_image-container__20hwG",directionButton:"style_directionButton__16NrF","go-button":"style_go-button__opuNe","back-button":"style_back-button__1iUGc",image:"style_image__2thvU","image-details-container":"style_image-details-container__3aWpW"}},12:function(e,t,a){e.exports={"modal-wrapper":"style_modal-wrapper__3XK7e","modal-container":"style_modal-container__2MTAz","modal-content-wrapper":"style_modal-content-wrapper__hgLjk","madal-content-container":"style_madal-content-container__VWtRA","modal-content":"style_modal-content__2zXs9","close-modal-container":"style_close-modal-container__3BokD","close-button":"style_close-button__2zHuR"}},17:function(e,t,a){e.exports={spinnerContainer:"style_spinnerContainer__2p8bM",spinner:"style_spinner__3Zi94",load:"style_load__16XLl",smallSpinner:"style_smallSpinner__3f8pZ",bigSpinner:"style_bigSpinner__jL8Sb"}},20:function(e,t,a){e.exports={"navbar-container":"navbar_navbar-container__2J06t","navbar-fixed":"navbar_navbar-fixed__2s5kS","navbar-content":"navbar_navbar-content__2Leoh"}},21:function(e,t,a){e.exports={content:"style_content__gqtK8",loadmore:"style_loadmore__2yFZ2",loadmoreContainer:"style_loadmoreContainer__31M5C"}},23:function(e,t,a){e.exports={imgContainer:"style_imgContainer__8SJma",img:"style_img__3gWeJ",item1:"style_item1__2fehC",item2:"style_item2__18-6a",item3:"style_item3__9i0Wb",item4:"style_item4__3bJTU",item5:"style_item5__3xFup"}},28:function(e,t,a){e.exports={errorContainer:"style_errorContainer__Wu7CD"}},43:function(e,t,a){e.exports={tryAgain:"style_tryAgain__UIPSz"}},44:function(e,t,a){e.exports={errorMessageParagraph:"style_errorMessageParagraph__3Zroy"}},46:function(e,t,a){e.exports={"image-details-container":"style_image-details-container__1mmuU"}},49:function(e,t,a){e.exports=a(82)},54:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(15),l=a.n(c),i=(a(54),a(13)),s=a(20),u=a.n(s),m=function(){return o.a.createElement("div",{className:u.a["navbar-wrapper"]},o.a.createElement("div",{className:u.a["navbar-container"]},o.a.createElement("div",{className:u.a["navbar-fixed"]},o.a.createElement("div",{className:u.a["navbar-content"]},o.a.createElement("ul",null,o.a.createElement("li",{onClick:function(){return window.scrollTo(0,0)}}," Image "))))))},d=a(17),g=a.n(d),p=function(){return o.a.createElement("div",{className:g.a.spinnerContainer},o.a.createElement("div",{className:g.a.spinner+" "+g.a.bigSpinner}))},_=function(){return o.a.createElement("span",{style:{width:"30px"}},o.a.createElement("span",{className:g.a.smallSpinner}))},b=function(e){var t=e.className,a=e.onClickCallback,n=e.text,r=e.isLoading;return o.a.createElement("button",{className:t,onClick:a,disabled:!!r},n,o.a.createElement(_,null))},v=a(28),f=a.n(v),E=a(43),y=a.n(E),h=function(e){var t=e.tryLoadingAgain,a=Object(i.b)();return o.a.createElement("div",null,o.a.createElement("button",{className:y.a.tryAgain,onClick:function(){return a(t())}},"Try Again"))},C=a(44),O=a.n(C),j=function(e){var t=e.errorMsg;return o.a.createElement("div",null,o.a.createElement("p",{className:O.a.errorMessageParagraph},t))},N=function(e){var t=e.error,a=e.tryLoadingAgain;return console.log(t,a,"=> try again and error"),t.status&&404===t.status?o.a.createElement("div",{className:f.a.errorContainer},o.a.createElement(j,{errorMsg:t.msg})):o.a.createElement("div",{className:f.a.errorContainer},o.a.createElement(j,{errorMsg:t.msg}),o.a.createElement(h,{tryLoadingAgain:a}))},S=a(6),x=a(45),w=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var r={},o={type:e};return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t||0===t.length)return o;var c,l=Object(x.a)(a.entries());try{for(l.s();!(c=l.n()).done;){var i=Object(S.a)(c.value,2),s=i[0],u=i[1];r[u]=t[s]}}catch(m){l.e(m)}finally{l.f()}return o.payload=r,o}},k=(n=(n="GET_IMAGES").toUpperCase(),{LOADING:"".concat(n,"_LOADING"),SUCCESS:"".concat(n,"_SUCCESS"),FAILURE:"".concat(n,"_FAILURE"),ACTION:n}),M=w(k.ACTION),I=w(k.LOADING),A=w(k.SUCCESS,"images"),L=w(k.FAILURE,"error"),U=(a(61),a(21)),R=a.n(U),q=a(46),D=a.n(q),G=function(e){var t=e.image,a=e.coordinateY,n=Object(r.useState)(0),c=Object(S.a)(n,2),l=c[0],i=c[1],s=Object(r.useCallback)((function(e){null!==e&&i(e.getBoundingClientRect().height)}),[]);return o.a.createElement("div",{ref:s,className:D.a["image-details-container"],style:{top:function(){var e=a;return a>l&&(e-=l+10),0===a&&(e=10),{top:e}}().top,left:10,right:10}},o.a.createElement("p",null," ",o.a.createElement("span",null,"description:")," ",t.alt_description),o.a.createElement("p",null," ",o.a.createElement("span",null,"created_at:")," ",t.created_at))};var B=a(12),T=a.n(B);function F(){var e=Object(r.useContext)(P),t=e.isModal,a=e.toggleModal,n=e.modalContent;return Object(r.useMemo)((function(){t?(document.body.style.marginRight="17px",document.body.style.overflowY="hidden"):(document.body.style.marginRight="0px",document.body.style.overflowY="scroll")}),[t]),t?l.a.createPortal(o.a.createElement("div",{className:T.a["modal-wrapper"]},o.a.createElement("div",{className:T.a["modal-container"],onClick:a},o.a.createElement("div",{className:T.a["modal-content-wrapper"]},o.a.createElement("div",{className:T.a["close-modal-container"]},o.a.createElement("button",{className:T.a["close-button"],onClick:a},"close")),o.a.createElement("div",{className:T.a["madal-content-container"],onClick:function(e){e.stopPropagation()}},o.a.createElement("div",{className:T.a["modal-content"]},n))))),document.querySelector("#root")):""}var P=o.a.createContext({}),W=P.Provider;function Y(e){var t=e.children,a=function(){var e=Object(r.useState)(!1),t=Object(S.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)(""),c=Object(S.a)(o,2),l=c[0],i=c[1];return{isModal:a,toggleModal:function(){n(!a)},modalContent:l,addModalContent:function(e){e&&i(e)}}}(),n={isModal:a.isModal,toggleModal:a.toggleModal,modalContent:a.modalContent,addModalContent:a.addModalContent};return o.a.createElement(W,{value:n},t,o.a.createElement(F,null))}var J,z=a(10),Z=a.n(z),K=function(e){e.image;var t=e.currentIndex,a=e.allImages,n=Object(r.useState)(t),c=Object(S.a)(n,2),l=c[0],i=c[1];return o.a.createElement("div",{className:Z.a["image-modal-wrapper"]},o.a.createElement("div",{className:Z.a["image-container"],style:{backgroundImage:"url(".concat(a[l].urls.regular,")")}},o.a.createElement("button",{onClick:function(){return i((l+1)%a.length)},className:"".concat(Z.a.directionButton," ").concat(Z.a["go-button"])},"Go"),o.a.createElement("img",{className:Z.a.image,src:a[l].urls.regular}),o.a.createElement("button",{onClick:function(){return i((l-1+a.length)%a.length)},className:"".concat(Z.a.directionButton," ").concat(Z.a["back-button"])},"Back")),o.a.createElement("div",{className:Z.a["image-details-container"]},o.a.createElement("p",null,"Details"),o.a.createElement("p",null,o.a.createElement("span",null,"description:")," ",a[l].alt_description),o.a.createElement("p",null,o.a.createElement("span",null,"created_at:")," ",a[l].created_at),o.a.createElement("p",null,o.a.createElement("span",null,"height:")," ",a[l].height),o.a.createElement("p",null,o.a.createElement("span",null,"width:")," ",a[l].width),o.a.createElement("p",null,o.a.createElement("span",null,"likes:")," ",a[l].likes),o.a.createElement("p",null,o.a.createElement("span",null,"created by:")," ",a[l].user.username)))},V=a(23),X=a.n(V),Q=function(e){var t=e.image,a=e.currentIndex,n=e.allImages,c=Object(r.useContext)(P),l=c.toggleModal,i=c.addModalContent,s=Object(r.useState)(!1),u=Object(S.a)(s,2),m=u[0],d=u[1],g=Object(r.useState)(0),p=Object(S.a)(g,2),_=p[0],b=p[1],v=Object(r.useState)(0),f=Object(S.a)(v,2),E=f[0],y=f[1],h="item"+Math.ceil(t.height/t.width);return o.a.createElement("div",{key:t.id,className:"".concat(X.a.imgContainer," ").concat(X.a[h]),onMouseEnter:function(e){return function(e,t){var a=t.target.getBoundingClientRect(),n=t.clientY-a.top;b(n),y(e),d(!0)}(t.id,e)},onMouseLeave:function(){return d(!1)},style:{backgroundImage:"url(".concat(t.urls.small,")")},onClick:function(){return function(e){l(),i(o.a.createElement(K,{image:e,currentIndex:a,allImages:n}))}(t)}},o.a.createElement("img",{src:t.urls.small,className:X.a.img}),m&&E===t.id?o.a.createElement(G,{image:t,coordinateY:_}):"")},H=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.images})),a=t.images,n=t.isLoading,c=t.error;return Object(r.useEffect)((function(){e(M())}),[]),c?o.a.createElement(N,{error:c,tryLoadingAgain:function(){return e(M())}}):o.a.createElement("div",{className:R.a.container},o.a.createElement("div",{className:R.a.content},a.length>0&&a.map((function(e,t){return o.a.createElement(Q,{image:e,key:e.id,currentIndex:t,allImages:a})}))),n?o.a.createElement(p,null):"",a.length>0&&o.a.createElement("div",{className:R.a.loadmoreContainer},o.a.createElement(b,{onClickCallback:function(){return e(M())},className:R.a.loadmore,text:"loadmore",isLoading:n})))},$=a(7),ee=a(48),te=a(47),ae=a(18),ne=a(30),re=a(14);function oe(e){return console.log(e.toJSON()),console.log(e.response),e.response?{msg:e.response.data.errors[0],statusCode:e.response.statusCode}:{msg:"Something went wrong !!"}}var ce=function(e,t){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments.length>1?arguments[1]:void 0,r=n.type,o=n.payload;return t[r]?t[r](a,o):a}}({images:[],page:1,isLoading:!1,error:null},(J={},Object(ae.a)(J,k.LOADING,(function(e){return Object(re.a)(Object(re.a)({},e),{},{isLoading:!0})})),Object(ae.a)(J,k.SUCCESS,(function(e,t){var a=t.images;return Object(re.a)(Object(re.a)({},e),{},{isLoading:!1,error:null,images:[].concat(Object(ne.a)(e.images),Object(ne.a)(a)),page:e.page+1})})),Object(ae.a)(J,k.FAILURE,(function(e,t){var a=t.error;return Object(re.a)(Object(re.a)({},e),{},{isLoading:!1,error:oe(a)})})),J));console.log(ce),console.log("second",ce);var le=Object($.combineReducers)({images:ce}),ie=a(11),se=a.n(ie),ue=a(9);var me=a(29),de=a.n(me),ge="gQDbsMCjrO0RIMOO0sUKFZezWYckLmv4MwVuGeA9QvY",pe=function(){function e(e){var t=e.method,a=e.endpoint,n=void 0===a?"":a,r=e.queryString,o=void 0===r?"":r,c=e.userData,l=void 0===c?{}:c;de.a.defaults.headers.Authorization="Client-ID ".concat(ge);var i=n+o;return de()({baseURL:"https://api.unsplash.com/",method:t,url:i,data:l})}return{get:function(t){return e({method:"get",endpoint:t.endpoint,queryString:t.queryString,data:t.data})},post:function(t){return e({method:"post",endpoint:t.endpoint,queryString:t.queryString,data:t.data})},put:function(t){return e({method:"put",endpoint:t.endpoint,queryString:t.queryString,data:t.data})},delete:function(t){return e({method:"delete",endpoint:t.endpoint,queryString:t.queryString,data:t.data})}}}(),_e=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="?";for(var a in e)t+="".concat(a,"=").concat(e[a],"&");return t}({page:e,per_page:10});return pe.get({endpoint:"/photos/",queryString:t}).then((function(e){return e.data}))},be=function(e){return e.images.page},ve=se.a.mark(Ee),fe=se.a.mark(ye);function Ee(){var e,t;return se.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(ue.c)(I());case 3:return a.next=5,Object(ue.d)(be);case 5:return e=a.sent,a.next=8,Object(ue.b)(_e,e);case 8:return t=a.sent,a.next=11,Object(ue.c)(A(t));case 11:a.next=18;break;case 13:return a.prev=13,a.t0=a.catch(0),console.log(a.t0,"from saga"),a.next=18,Object(ue.c)(L(a.t0));case 18:case"end":return a.stop()}}),ve,null,[[0,13]])}function ye(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.e)(k.ACTION,Ee);case 2:case"end":return e.stop()}}),fe)}var he=se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.a)([ye()]);case 2:case"end":return e.stop()}}),e)})),Ce=function(){var e=Object(ee.a)(),t=Object(te.composeWithDevTools)(Object($.applyMiddleware)(e)),a=Object($.createStore)(le,void 0,t);e.run(he);a.subscribe((function(){console.log("this subscribe call back will print state before excute dispatch",a.getState())}));return a}();function Oe(){return o.a.createElement(i.a,{store:Ce},o.a.createElement(Y,null,o.a.createElement("div",{className:"app-wrapper"},o.a.createElement("div",{className:"app-container"},o.a.createElement("div",{className:"main-container"},o.a.createElement("div",{className:"main-header"},o.a.createElement(m,null)),o.a.createElement("div",{className:"main-content-wrapper"},o.a.createElement("div",{className:"main-content-container"},o.a.createElement(H,null))))))))}l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Oe,null)),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.150f6d26.chunk.js.map